<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pagerjs</title>
    
    <link rel="stylesheet" type="text/css" href="http://documentup.com/stylesheets/screen.css">
    
    

    

    <!-- Typekit -->
    
      <script type="text/javascript">
        (function() {
          var config = {
            kitId: 'hjp0pft',
            scriptTimeout: 3000
          };
          var h=document.getElementsByTagName("html")[0];h.className+=" wf-loading";var t=setTimeout(function(){h.className=h.className.replace(/( |^)wf-loading( |$)/g,"");h.className+=" wf-inactive"},config.scriptTimeout);var tk=document.createElement("script");tk.src='//use.typekit.net/'+config.kitId+'.js';tk.type="text/javascript";tk.async="true";tk.onload=tk.onreadystatechange=function(){var a=this.readyState;if(a&&a!="complete"&&a!="loaded")return;clearTimeout(t);try{Typekit.load(config)}catch(b){}};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(tk,s)
        })();
      </script>
    
  </head>
  <body><div id="container">
  <div id="nav">
    
      <div id="header">
        <a href="#" id="logo">pagerjs</a>
      </div>
    
    <ul id="sections">
      
        <li>
          <a href="#getting-started">Getting Started</a>
          
        </li>
      
        <li>
          <a href="#dependencies">Dependencies</a>
          
        </li>
      
        <li>
          <a href="#philosophy">Philosophy</a>
          
        </li>
      
        <li>
          <a href="#reference-manual">Reference Manual</a>
          
            <ul>
              
                <li>
                  <a href="#reference-manual/pager-page-pager-page">`pager.page : pager.Page`</a>
                </li>
              
                <li>
                  <a href="#reference-manual/pager-showchild-string">`pager.showChild(String[])`</a>
                </li>
              
                <li>
                  <a href="#reference-manual/pager-start-string">`pager.start([String])`</a>
                </li>
              
                <li>
                  <a href="#reference-manual/pager-starthashchange-string">`pager.startHashChange([String])`</a>
                </li>
              
                <li>
                  <a href="#reference-manual/pager-starthistoryjs-string">`pager.startHistoryJs([String])`</a>
                </li>
              
                <li>
                  <a href="#reference-manual/pager-extendwithpage-object">`pager.extendWithPage(Object)`</a>
                </li>
              
                <li>
                  <a href="#reference-manual/page-href">page-href</a>
                </li>
              
                <li>
                  <a href="#reference-manual/page">page</a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#configurations">Configurations</a>
          
            <ul>
              
                <li>
                  <a href="#configurations/string-id">{String} id</a>
                </li>
              
                <li>
                  <a href="#configurations/object-with">{Object} with</a>
                </li>
              
                <li>
                  <a href="#configurations/function-withonshow">{Function} withOnShow</a>
                </li>
              
                <li>
                  <a href="#configurations/string-function-source">{String/Function} source</a>
                </li>
              
                <li>
                  <a href="#configurations/function-sourceloaded">{Function} sourceLoaded</a>
                </li>
              
                <li>
                  <a href="#configurations/string-function-sourceonshow">{String/Function} sourceOnShow</a>
                </li>
              
                <li>
                  <a href="#configurations/boolean-number-sourcecache">{Boolean/Number} sourceCache</a>
                </li>
              
                <li>
                  <a href="#configurations/string-frame">{String} frame</a>
                </li>
              
                <li>
                  <a href="#configurations/boolean-modal">{Boolean} modal</a>
                </li>
              
                <li>
                  <a href="#configurations/function-beforehide">{Function} beforeHide</a>
                </li>
              
                <li>
                  <a href="#configurations/function-beforeshow">{Function} beforeShow</a>
                </li>
              
                <li>
                  <a href="#configurations/function-afterhide">{Function} afterHide</a>
                </li>
              
                <li>
                  <a href="#configurations/function-aftershow">{Function} afterShow</a>
                </li>
              
                <li>
                  <a href="#configurations/function-hideelement">{Function} hideElement</a>
                </li>
              
                <li>
                  <a href="#configurations/function-showelement">{Function} showElement</a>
                </li>
              
                <li>
                  <a href="#configurations/function-loader">{Function} loader</a>
                </li>
              
                <li>
                  <a href="#configurations/function-navigationfailed">{Function} navigationFailed</a>
                </li>
              
                <li>
                  <a href="#configurations/object-params">{Object} params</a>
                </li>
              
                <li>
                  <a href="#configurations/function-guard">{Function} guard</a>
                </li>
              
                <li>
                  <a href="#configurations/string-fx">{String} fx</a>
                </li>
              
                <li>
                  <a href="#configurations/object-vars">{Object} vars</a>
                </li>
              
                <li>
                  <a href="#configurations/boolean-deep">{Boolean} deep</a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#cookbook">Cookbook</a>
          
            <ul>
              
                <li>
                  <a href="#cookbook/display-page-with-id-start-by-default">Display page with id start by default</a>
                </li>
              
                <li>
                  <a href="#cookbook/navigate-to-page-using-scoped-ids">Navigate to page using scoped IDs.</a>
                </li>
              
                <li>
                  <a href="#cookbook/deep-navigation">Deep navigation</a>
                </li>
              
                <li>
                  <a href="#cookbook/load-external-content-into-a-page-using-source-and-trigger-sourceloaded-event">Load external content into a page using `source` and trigger `sourceLoaded` event</a>
                </li>
              
                <li>
                  <a href="#cookbook/lazy-load-an-external-content-into-a-page-if-sourceonshow-is-declared">Lazy load an external content into a page if `sourceOnShow` is declared</a>
                </li>
              
                <li>
                  <a href="#cookbook/cache-lazy-loaded-content-when-sourcecache-true">Cache lazy loaded content when `sourceCache: true`</a>
                </li>
              
                <li>
                  <a href="#cookbook/cache-lazy-loaded-content-the-number-of-seconds-specified-by-sourcecache">Cache lazy loaded content the number of seconds specified by `sourceCache`</a>
                </li>
              
                <li>
                  <a href="#cookbook/specify-relative-page-paths-using-page-href">Specify relative page paths using `page-href`</a>
                </li>
              
                <li>
                  <a href="#cookbook/change-binding-context-using-with">Change binding context using `with`</a>
                </li>
              
                <li>
                  <a href="#cookbook/withonshow-will-lazy-bind-a-new-view-model-to-the-page">`withOnShow` will lazy bind a new view model to the page</a>
                </li>
              
                <li>
                  <a href="#cookbook/match-wildcard-ids-if-no-other-id-can-match-exactly">Match wildcard IDs if no other ID can match exactly</a>
                </li>
              
                <li>
                  <a href="#cookbook/deep-navigation-with-wildcards">Deep navigation with wildcards</a>
                </li>
              
                <li>
                  <a href="#cookbook/send-wildcards-as-parameter-to-source-method">Send wildcards as parameter to source-method</a>
                </li>
              
                <li>
                  <a href="#cookbook/load-content-into-iframes">Load content into iframes</a>
                </li>
              
                <li>
                  <a href="#cookbook/route-to-custom-widgets-dialogs-carousels-accordions">Route to custom widgets (dialogs, carousels, accordions)</a>
                </li>
              
                <li>
                  <a href="#cookbook/circumvent-the-routing">Circumvent the routing</a>
                </li>
              
                <li>
                  <a href="#cookbook/navigate-into-a-layer-modal-dialog-without-losing-context">Navigate into a layer (modal dialog) without losing context</a>
                </li>
              
                <li>
                  <a href="#cookbook/navigate-into-a-layer-modal-dialog-and-lose-context">Navigate into a layer (modal dialog) and lose context</a>
                </li>
              
                <li>
                  <a href="#cookbook/change-the-page-title">Change the page title</a>
                </li>
              
                <li>
                  <a href="#cookbook/run-custom-js-on-before-after-navigate-from-to">Run custom JS on &quot;before/after navigate from/to&quot;</a>
                </li>
              
                <li>
                  <a href="#cookbook/supply-custom-showelement-and-hideelement-methods">Supply custom showElement and hideElement-methods</a>
                </li>
              
                <li>
                  <a href="#cookbook/specify-loaders-in-pages">Specify loaders in pages</a>
                </li>
              
                <li>
                  <a href="#cookbook/specify-global-loaders">Specify global loaders</a>
                </li>
              
                <li>
                  <a href="#cookbook/tab-panel-custom-widget">Tab panel custom widget</a>
                </li>
              
                <li>
                  <a href="#cookbook/react-to-a-failed-navigation">React to a failed navigation</a>
                </li>
              
                <li>
                  <a href="#cookbook/load-view-content-using-a-custom-method">Load view content using a custom method</a>
                </li>
              
                <li>
                  <a href="#cookbook/send-uri-fragment-identifier-parameters-to-a-page">Send URI (fragment identifier) parameters to a page</a>
                </li>
              
                <li>
                  <a href="#cookbook/add-guards">Add guards</a>
                </li>
              
                <li>
                  <a href="#cookbook/add-observables-without-connection-to-the-view-model">Add observables without connection to the view model</a>
                </li>
              
                <li>
                  <a href="#cookbook/deep-loading-content-into-wildcards">Deep loading content into wildcards</a>
                </li>
              
                <li>
                  <a href="#cookbook/specify-a-start-page">Specify a start page</a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#faq">FAQ</a>
          
            <ul>
              
                <li>
                  <a href="#faq/can-i-use-it-together-with">Can I use it together with...</a>
                </li>
              
                <li>
                  <a href="#faq/can-i-use-true-urls-instead">Can I use true URLs instead?</a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#release-notes">Release Notes</a>
          
            <ul>
              
                <li>
                  <a href="#release-notes/0-2">0.2</a>
                </li>
              
                <li>
                  <a href="#release-notes/0-4">0.4</a>
                </li>
              
                <li>
                  <a href="#release-notes/0-6">0.6</a>
                </li>
              
            </ul>
          
        </li>
      
        <li>
          <a href="#roadmap">Roadmap</a>
          
        </li>
      
        <li>
          <a href="#how-to-contribute">How to Contribute</a>
          
        </li>
      
        <li>
          <a href="#license">License</a>
          
        </li>
      
    </ul>
    
      <div class="extra" id="github">
        <a href="https://github.com/finnsson/pagerjs">Source on Github</a>
      </div>
      
        <div class="extra" id="github-issues">
          <a href="https://github.com/finnsson/pagerjs/issues">Issues</a>
        </div>
      
      
    
    
  </div>
  <div id="content">
    
      <a href="https://github.com/finnsson/pagerjs" id="github-ribbon"><img src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
    
    <h1><a href="http://oscar.finnsson.nu/pagerjs/">pager.js</a></h1>
<p><a href="https://travis-ci.org/finnsson/pagerjs"><img src="https://travis-ci.org/finnsson/pagerjs.png" alt="Build Status"></a>

</p>
<pre><code>one having <span class="keyword">or</span> covering a specified number <span class="keyword">or</span> kind <span class="keyword">of</span> pages
  - Merriam-Webster</code></pre>
<p>See the <a href="http://pagerjs.com/demo/">demo</a>.

</p>
<p>pager.js is a JavaScript library based on KnockoutJS and jQuery that provides the possibility of
creating single page applications in a declarative fashion - nesting subpages inside subpages where each subpage can be
developed standalone but still communicate between each other.

</p>
<p>This makes it easier to design very large scale single page web sites.

</p>
<p>This readme is for version 0.7 (development version towards 0.8 milestone). See the r0.6-branch for the latest
stable milestone.

</p>
<h2 id='getting-started'>Getting Started</h2 id='getting-started'>
<ol>
<li>Download the <a href="https://raw.github.com/finnsson/pagerjs/master/pager.js">developer</a> version
or the <a href="https://raw.github.com/finnsson/pagerjs/master/dist/pager.min.js">minified</a> version
of pager.js</li>
<li><p>Include all dependencies (jQuery, KnockoutJS) as well as pager.js in your site
using either AMD or non-AMD:</p>
<pre><code> // AMD
 requirejs.config({
     shim: {
         history: ['jquery'], // iff using History.js
         hashchange: ['jquery'] // iff using jquery hashchange
     },
     paths:{
         jquery:'jquery-1.8.2.min',
         knockout:'knockout-2.1.0',
         pager:'pager.amd.min',
         // iff using jquery hashchange
         hashchange:'jquery.ba-hashchange.min',
         // iff using History.js
         history: 'jquery.history'
     }
 });

 // non-AMD
 <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"jquery-1.8.2.min.js"</span>></span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>></span>
 <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"knockout-2.1.0.js"</span>></span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>></span>
 <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"pager.js"</span>></span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>></span>

 // iff using jQuery Hashchange
 <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"jquery.ba-hashchange.min"</span>></span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>></span>

 // iff using History.js
 <span class="tag">&lt;<span class="title">script</span> <span class="attribute">type</span>=<span class="value">"text/javascript"</span> <span class="attribute">src</span>=<span class="value">"jquery.history.js"</span>></span><span class="javascript"></span><span class="tag">&lt;/<span class="title">script</span>></span>
 <span class="tag">&lt;<span class="title">base</span> <span class="attribute">href</span>=<span class="value">"absolute-URI-to-index.html/"</span>/></span>
 <span class="comment">&lt;!-- where absolute-URI-to-index.html can be e.g. www.examepl.com/foo/ --></span></code></pre>
</li>
</ol>
<ol>
<li><p>Insert the lines:</p>
<pre><code> // iff using History<span class="preprocessor">.js</span>
 // tell page-href to use page-href5
 pager<span class="preprocessor">.useHTML</span>5history = true<span class="comment">;</span>
  // tell page-href5 to use History<span class="preprocessor">.js</span> instead of history
 pager<span class="preprocessor">.Href</span>5<span class="preprocessor">.history</span> = History<span class="comment">;</span>

 // always
 pager<span class="preprocessor">.extendWithPage</span>(viewModel)<span class="comment">;</span>
 ko<span class="preprocessor">.applyBindings</span>(viewModel)<span class="comment">;</span>

 // pick one of these three alternatives <span class="keyword">or</span> develop your own start-method

 // <span class="number">1.</span> iff using na√Øve hashchange - wont work with IE7
 pager<span class="preprocessor">.start</span>()<span class="comment">;</span>

 // <span class="number">2.</span> iff using jQuery Hashchange
 pager<span class="preprocessor">.startHashChange</span>()<span class="comment">;</span>

 // <span class="number">3.</span> iff using History<span class="preprocessor">.js</span>
 pager<span class="preprocessor">.startHistoryJs</span>()<span class="comment">;</span></code></pre>
</li>
<li><p>Start using the bindings <code>page</code> and <code>page-href</code>. Consult the
<a href="http://oscar.finnsson.nu/pagerjs/">web page</a>,
<a href="http://pagerjs.com/demo/">demo</a>
or <a href="https://github.com/finnsson/pagerjs/tree/master/test">test cases</a> for how to use the bindings.</p>
</li>
<li>Rock &#39;n&#39; Roll!</li>
</ol>
<h2 id='dependencies'>Dependencies</h2 id='dependencies'>
<ul>
<li><a href="http://knockoutjs.com/">KnockoutJS</a></li>
<li><a href="http://jquery.com/">jQuery</a></li>
</ul>
<p>You will usually use pager.js in combination with either
<a href="https://github.com/cowboy/jquery-hashchange">jQuery hashchange</a>
or <a href="https://github.com/balupton/History.js/">History.js</a>.

</p>
<p>pager.js is not depending on any CSS framework!

</p>
<p>For developing pager.js you&#39;ll also need

</p>
<ul>
<li><a href="http://nodejs.org/">Node.js</a></li>
<li><a href="https://github.com/cowboy/grunt">Grunt</a></li>
<li><a href="http://qunitjs.com/">QUnit</a></li>
<li><a href="http://phantomjs.org/">PhantomJS</a></li>
<li><a href="http://requirejs.org/">RequireJS</a></li>
</ul>
<h2 id='philosophy'>Philosophy</h2 id='philosophy'>
<p>Developing a huge single page application should be like developing multiple small pages. That is the only way
you&#39;ll be able to scale up and out the development. In order to ease development in the large pager.js got

</p>
<ul>
<li>views (pages) that can be loaded on-demand</li>
<li>view-models that can be loaded on-demand</li>
</ul>
<p>These MVVM-triads can be developed in isolation and later on connected.

</p>
<h2 id='reference-manual'>Reference Manual</h2 id='reference-manual'>
<p>pager.js got some static methods and
extends KnockoutJS with four custom bindings: <code>page</code>, <code>page-href</code>, <code>page-hash</code> and
<code>page-href5</code>.

</p>
<h3 id='reference-manual/pager-page-pager-page'><code>pager.page : pager.Page</code></h3 id='reference-manual/pager-page-pager-page'>
<p>A reference to the root page, of type <code>pager.Page</code>. This page instance is the same as
<code>$__page__</code> (or <code>$root.$__page__</code>) in your data binding.

</p>
<h3 id='reference-manual/pager-showchild-string'><code>pager.showChild(String[])</code></h3 id='reference-manual/pager-showchild-string'>
<p>Display the pages matching the route (String-array) without changing the location.

</p>
<p>This method is called by <code>pager.start</code>, <code>pager.startHashChange</code> and <code>pager.startHistoryJS</code>. If you plan to implement
your own start-method you&#39;ll need to call this method with the calculated route.

</p>
<h3 id='reference-manual/pager-start-string'><code>pager.start([String])</code></h3 id='reference-manual/pager-start-string'>
<p>Used if you are using neither <code>jQuery hashchange</code> nor <code>History.js</code>. This method does not work for IE7 and
can give unexpected results for IE8!

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/setup">Setup</a></li>
</ul>
<h3 id='reference-manual/pager-starthashchange-string'><code>pager.startHashChange([String])</code></h3 id='reference-manual/pager-starthashchange-string'>
<p>Used if you are using <code>jQuery hashchange</code>.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/setup">Setup</a></li>
</ul>
<h3 id='reference-manual/pager-starthistoryjs-string'><code>pager.startHistoryJs([String])</code></h3 id='reference-manual/pager-starthistoryjs-string'>
<p>Used if you are using <code>History.js</code>.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/html5_history">HTML5 History API</a></li>
<li><a href="http://pagerjs.com/demo/#!/setup">Setup</a></li>
</ul>
<h3 id='reference-manual/pager-extendwithpage-object'><code>pager.extendWithPage(Object)</code></h3 id='reference-manual/pager-extendwithpage-object'>
<p>Extends your root view model with a root page-instance.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/setup">Setup</a></li>
</ul>
<h3 id='reference-manual/page-href'>page-href</h3 id='reference-manual/page-href'>
<pre><code><span class="tag">&lt;<span class="title">a</span> <span class="attribute">data-bind</span>=<span class="value">"page-href: 'somePagePath'"</span>></span><span class="tag">&lt;/<span class="title">a</span>></span>

<span class="tag">&lt;<span class="title">a</span> <span class="attribute">data-bind</span>=<span class="value">"page-href: '../some/relative/page/path'"</span>></span><span class="tag">&lt;/<span class="title">a</span>></span>

<span class="tag">&lt;<span class="title">a</span> <span class="attribute">data-bind</span>=<span class="value">"page-href: somePageInstance"</span>></span><span class="tag">&lt;/<span class="title">a</span>></span></code></pre>
<p>Calculates absolute href based on the location of the element.

</p>
<p>If hashes are used it will be prefixed with <code>#</code> by default. You can change the default prefix
to e.g. <code>#!/</code> by setting <code>pager.Href.hash = &#39;#!/&#39;;</code>

</p>
<p>True URLs can use used by either using the <code>page-href5</code> binding or setting <code>pager.useHTML5history = true</code>.

</p>
<p>History.js can be used by setting <code>pager.Href5.history = History</code> (default to the normal <code>history</code>).

</p>
<p>It the page-href is supplied a Page-instance the absolute href to the Page-instance is calculated.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/relative_path">Relative path</a></li>
<li><a href="http://pagerjs.com/demo/#!/absolute_path">Absolute Path</a></li>
<li><a href="http://pagerjs.com/demo/#!/html5_history">HTML5 History</a></li>
</ul>
<h3 id='reference-manual/page'>page</h3 id='reference-manual/page'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {}"</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<p>The page-binding. See configuration.

</p>
<h2 id='configurations'>Configurations</h2 id='configurations'>
<p>The configuration options for the page-binding.


</p>
<h3 id='configurations/string-id'>{String} id</h3 id='configurations/string-id'>
<p>ID of scoped page that a router should react to. E.g. <code>start</code> or <code>user/me</code>.
If the id is <code>?</code> (wildcard) it will match anything if no other page in the same parent match.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/setup">Setup</a></li>
<li><a href="http://pagerjs.com/demo/#!/deep_navigation">Deep Navigation</a></li>
<li><a href="http://pagerjs.com/demo/#!/matching_wildcards">Matching Wildcards</a></li>
<li><a href="http://pagerjs.com/demo/#!/deep_navigation_with_wildcards">Deep Navigation with Wildcards</a></li>
</ul>
<h3 id='configurations/object-with'>{Object} with</h3 id='configurations/object-with'>
<p>That can change the scope of elements descendants. The same behavior as the normal <code>with</code>-binding.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/change_binding_context">Change Binding Context</a></li>
</ul>
<h3 id='configurations/function-withonshow'>{Function} withOnShow</h3 id='configurations/function-withonshow'>
<p>Sets the view model of elements descendants async after the page is shown. This is useful
so you can extract sub pages view models to other <code>.js</code>-files.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/lazy_bind_view_model">Lazy-Bind View-Model</a></li>
</ul>
<h3 id='configurations/string-function-source'>{String/Function} source</h3 id='configurations/string-function-source'>
<p>Source to load into element using <code>jQuery#load</code>. The source will be loaded once the page is processed.
If it is a function it is invoked.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/load_external_content">Load External Content</a></li>
<li><a href="http://pagerjs.com/demo/#!/custom_view_loader">Load View using Custom Method</a></li>
</ul>
<h3 id='configurations/function-sourceloaded'>{Function} sourceLoaded</h3 id='configurations/function-sourceloaded'>
<p>Is a method/event/callback to run once the <code>source</code> (or <code>sourceOnShow</code>) is loaded.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/load_external_content">Load External Content</a></li>
</ul>
<h3 id='configurations/string-function-sourceonshow'>{String/Function} sourceOnShow</h3 id='configurations/string-function-sourceonshow'>
<p>Source to load into element using <code>jQuery#load</code> when the element is displayed. Thus sub pages
can be extracted and loaded on demand. If it is a function it is invoked.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/lazy_load_external_content">Lazy-Load External Content</a></li>
<li><a href="http://pagerjs.com/demo/#!/custom_view_loader">Load View using Custom Method</a></li>
</ul>
<h3 id='configurations/boolean-number-sourcecache'>{Boolean/Number} sourceCache</h3 id='configurations/boolean-number-sourcecache'>
<p>Can be set to true in order for sourceOnShow to only load the source once.
If a number is specified the cache is valid for that amount of time in seconds.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/cached_lazy">Cached Lazy-Loaded Content</a></li>
</ul>
<h3 id='configurations/string-frame'>{String} frame</h3 id='configurations/string-frame'>
<p>Can be set to <code>iframe</code> in order for the source to be loaded into an iframe. If the page contains
an iframe that element is used.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/load_into_iframe">Load Content into iframe</a></li>
<li><a href="http://pagerjs.com/demo/#!/configure_iframe">Configure an iframe</a></li>
</ul>
<h3 id='configurations/boolean-modal'>{Boolean} modal</h3 id='configurations/boolean-modal'>
<p>Can be set to <code>true</code> in order for the page to act as a modal. If a page is a modal it can be
found by child-pages to sibling-pages of the modal.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/modals">Modals</a></li>
</ul>
<h3 id='configurations/function-beforehide'>{Function} beforeHide</h3 id='configurations/function-beforehide'>
<p>Is called before the page is hidden.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/custom_js_when_navigating">Custom JS when Navigating</a></li>
</ul>
<h3 id='configurations/function-beforeshow'>{Function} beforeShow</h3 id='configurations/function-beforeshow'>
<p>Is called before the page is shown.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/custom_js_when_navigating">Custom JS when Navigating</a></li>
</ul>
<h3 id='configurations/function-afterhide'>{Function} afterHide</h3 id='configurations/function-afterhide'>
<p>Is called after the page is hidden.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/custom_js_when_navigating">Custom JS when Navigating</a></li>
</ul>
<h3 id='configurations/function-aftershow'>{Function} afterShow</h3 id='configurations/function-aftershow'>
<p>Is called after the page is shown.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/custom_js_when_navigating">Custom JS when Navigating</a></li>
</ul>
<h3 id='configurations/function-hideelement'>{Function} hideElement</h3 id='configurations/function-hideelement'>
<p>Custom hide-method instead of the default <code>$(element).hide()</code>;

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/custom_hide_show">Custom Hide- and Show-Methods</a></li>
</ul>
<h3 id='configurations/function-showelement'>{Function} showElement</h3 id='configurations/function-showelement'>
<p>Custom show-method instead of the default <code>$(element).show()</code>;

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/custom_hide_show">Custom Hide- and Show-Methods</a></li>
</ul>
<h3 id='configurations/function-loader'>{Function} loader</h3 id='configurations/function-loader'>
<p>Loader to call once the page is loaded. Can e.g. create a spinner inside the element.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/loader">Loader</a></li>
</ul>
<h3 id='configurations/function-navigationfailed'>{Function} navigationFailed</h3 id='configurations/function-navigationfailed'>
<p>Method to call if a navigation could not find any matching page.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/failed_navigation">Reacting to Failed Navigation</a></li>
</ul>
<h3 id='configurations/object-params'>{Object} params</h3 id='configurations/object-params'>
<p>Binds URL-parameters to local observables.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/params">Binding URI parameters</a></li>
</ul>
<h3 id='configurations/function-guard'>{Function} guard</h3 id='configurations/function-guard'>
<p>Validates a page transition before it is happening.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/guards">Guards</a></li>
</ul>
<h3 id='configurations/string-fx'>{String} fx</h3 id='configurations/string-fx'>
<ul>
<li><a href="http://pagerjs.com/demo/#!/fx">FX</a></li>
</ul>
<h3 id='configurations/object-vars'>{Object} vars</h3 id='configurations/object-vars'>
<p>Created scoped observables for the view. Useful for when observables are needed purely for the view
and has no connection to the view-model.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/vars">Custom observables in the view</a></li>
</ul>
<h3 id='configurations/boolean-deep'>{Boolean} deep</h3 id='configurations/boolean-deep'>
<p>By setting <code>deep: true</code> a wildcard page will deep-load supplied sources.

</p>
<ul>
<li><a href="http://pagerjs.com/demo/#!/deep_load_content_into_wildcard">Deep Load Content into Wildcard</a></li>
</ul>
<h2 id='cookbook'>Cookbook</h2 id='cookbook'>
<p>The following behaviors specify and exemplify what pager.js is capable of.

</p>
<h3 id='cookbook/display-page-with-id-start-by-default'>Display page with id start by default</h3 id='cookbook/display-page-with-id-start-by-default'>
<pre><code><span class="tag">&lt;<span class="title">div</span>></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'bar'}"</span>></span>Bar<span class="tag">&lt;/<span class="title">div</span>></span>
  <span class="comment">&lt;!-- Foo is displayed --></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'start'}"</span>></span>Foo<span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/navigate-to-page-using-scoped-ids'>Navigate to page using scoped IDs.</h3 id='cookbook/navigate-to-page-using-scoped-ids'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id:'start'}"</span>></span>
  <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#foo"</span>></span>Go to foo<span class="tag">&lt;/<span class="title">a</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'foo'}"</span>></span>
  Foo. Go to <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#start"</span>></span>start<span class="tag">&lt;/<span class="title">a</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/deep-navigation'>Deep navigation</h3 id='cookbook/deep-navigation'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"start"</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'start'}"</span>></span>
    <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#user/fry"</span>></span>Go to Fry<span class="tag">&lt;/<span class="title">a</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span>

<span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"user"</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'user'}"</span>></span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">id</span>=<span class="value">"fry"</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'fry'}"</span>></span>Fry<span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/load-external-content-into-a-page-using-source-and-trigger-sourceloaded-event'>Load external content into a page using <code>source</code> and trigger <code>sourceLoaded</code> event</h3 id='cookbook/load-external-content-into-a-page-using-source-and-trigger-sourceloaded-event'>
<pre><code>&lt;div <span class="typedef"><span class="keyword">data</span>-bind="page: <span class="container">{<span class="title">id</span>: '<span class="title">lorem'</span>, <span class="title">source</span>: '<span class="title">lorem</span>.<span class="title">html</span> .<span class="title">content'</span>, <span class="title">sourceLoaded</span>: <span class="title">loremIsLoaded</span>}</span>">&lt;/div></span></code></pre>
<p>The source can contain a selector (see <code>.content</code> above) in order to extract a fragment on the site.
In the example above <code>loremIsLoaded</code> is a function that is triggered after <code>lorem.html</code> is loaded.

</p>
<h3 id='cookbook/lazy-load-an-external-content-into-a-page-if-sourceonshow-is-declared'>Lazy load an external content into a page if <code>sourceOnShow</code> is declared</h3 id='cookbook/lazy-load-an-external-content-into-a-page-if-sourceonshow-is-declared'>
<pre><code>&lt;div <span class="typedef"><span class="keyword">data</span>-bind="page: <span class="container">{<span class="title">id</span>: '<span class="title">lazyLorem'</span>, <span class="title">sourceOnShow</span>: '<span class="title">lorem</span>.<span class="title">html</span> .<span class="title">content'</span>}</span>">&lt;/div></span></code></pre>
<p><code>sourceOnShow</code> tells the page to load the content when the page is displayed.

</p>
<h3 id='cookbook/cache-lazy-loaded-content-when-sourcecache-true'>Cache lazy loaded content when <code>sourceCache: true</code></h3 id='cookbook/cache-lazy-loaded-content-when-sourcecache-true'>
<pre><code>&lt;div <span class="typedef"><span class="keyword">data</span>-bind="page: <span class="container">{<span class="title">id</span>: '<span class="title">lazyLoremCached'</span>, <span class="title">sourceOnShow</span>: '<span class="title">lorem</span>.<span class="title">html</span> .<span class="title">content'</span>, <span class="title">sourceCache</span>: <span class="title">true</span>}</span>">&lt;/div></span></code></pre>
<h3 id='cookbook/cache-lazy-loaded-content-the-number-of-seconds-specified-by-sourcecache'>Cache lazy loaded content the number of seconds specified by <code>sourceCache</code></h3 id='cookbook/cache-lazy-loaded-content-the-number-of-seconds-specified-by-sourcecache'>
<pre><code>&lt;div <span class="typedef"><span class="keyword">data</span>-bind="page: <span class="container">{<span class="title">id</span>: '<span class="title">lazyLoremCached5seconds'</span>, <span class="title">sourceOnShow</span>: '<span class="title">lorem</span>.<span class="title">html</span> .<span class="title">content'</span>, <span class="title">sourceCache</span>: 5}</span>">&lt;/div></span></code></pre>
<p><code>sourceCache</code> can specify the amount of seconds the external content should be cached.

</p>
<h3 id='cookbook/specify-relative-page-paths-using-page-href'>Specify relative page paths using <code>page-href</code></h3 id='cookbook/specify-relative-page-paths-using-page-href'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'start'}"</span>></span>
  <span class="comment">&lt;!-- This will update href to #start/bender --></span>
  <span class="tag">&lt;<span class="title">a</span> <span class="attribute">data-bind</span>=<span class="value">"page-href: 'bender'"</span>></span>Bender<span class="tag">&lt;/<span class="title">a</span>></span>

  <span class="comment">&lt;!-- This will update href to #admin/login --></span>
  <span class="tag">&lt;<span class="title">a</span> <span class="attribute">data-bind</span>=<span class="value">"page-href: '../admin/login'"</span>></span>Admin Login<span class="tag">&lt;/<span class="title">a</span>></span>

  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'bender'}"</span>></span>Bender!<span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'admin'}"</span>></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'login'}"</span>></span>Login<span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<p>Based on the total path of the page the binding calculates an absolute href.

</p>
<h3 id='cookbook/change-binding-context-using-with'>Change binding context using <code>with</code></h3 id='cookbook/change-binding-context-using-with'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'user', with: user}"</span>></span>
  <span class="comment">&lt;!-- Here name is user.name --></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"text: name"</span>></span><span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/withonshow-will-lazy-bind-a-new-view-model-to-the-page'><code>withOnShow</code> will lazy bind a new view model to the page</h3 id='cookbook/withonshow-will-lazy-bind-a-new-view-model-to-the-page'>
<pre><code>&lt;div <span class="typedef"><span class="keyword">data</span>-bind="page: <span class="container">{<span class="title">id</span>: '<span class="title">user'</span>, <span class="title">withOnShow</span>: <span class="title">someMethod</span>('<span class="title">someMethod'</span>)}</span>">&lt;/div></span></code></pre>
<p><code>someMethod</code> must return a function that takes a callback that takes a view model.

</p>
<p>E.g.

</p>
<pre><code><span class="function"><span class="keyword">function</span> <span class="title">requireVM</span><span class="params">(module)</span> {</span>
  <span class="keyword">return</span> <span class="keyword">function</span>(callback) {
    require([module], <span class="keyword">function</span>(<span class="built_in">mod</span>) {
      callback(<span class="built_in">mod</span>.getVM());
    });
  };
}</code></pre>
<h3 id='cookbook/match-wildcard-ids-if-no-other-id-can-match-exactly'>Match wildcard IDs if no other ID can match exactly</h3 id='cookbook/match-wildcard-ids-if-no-other-id-can-match-exactly'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'admin'}"</span>></span><span class="tag">&lt;/<span class="title">div</span>></span>
<span class="comment">&lt;!-- The page below match anything except 'admin' --></span>
<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: '?'}"</span>></span><span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/deep-navigation-with-wildcards'>Deep navigation with wildcards</h3 id='cookbook/deep-navigation-with-wildcards'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'start'}"</span>></span>
      <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#user/leela"</span>></span>Go to Leela<span class="tag">&lt;/<span class="title">a</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span>

<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: '?'}"</span>></span>
    Misc:
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'leela'}"</span>></span>
        Leela
    <span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/send-wildcards-as-parameter-to-source-method'>Send wildcards as parameter to source-method</h3 id='cookbook/send-wildcards-as-parameter-to-source-method'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'start'}"</span>></span>
    <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#user/fry"</span>></span>Go to Fry<span class="tag">&lt;/<span class="title">a</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span>

<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'user'}"</span>></span>
    User:
    <span class="comment">&lt;!-- {1} will be replaced with whatever matched the wildcard --></span>
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: '?', sourceOnShow: 'user/{1}.html'}"</span>></span>
    <span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/load-content-into-iframes'>Load content into iframes</h3 id='cookbook/load-content-into-iframes'>
<pre><code><span class="comment">&lt;!-- An iframe will be created inside the div --></span>
<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'user', frame: 'iframe', source: 'user.html'}"</span>></span><span class="tag">&lt;/<span class="title">div</span>></span>

<span class="comment">&lt;!-- The iframe specified will be used --></span>
<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'fry', frame: 'iframe', source: 'fry.html'}"</span>></span>
    <span class="tag">&lt;<span class="title">iframe</span> <span class="attribute">sandbox</span>=<span class="value">""</span>></span><span class="tag">&lt;/<span class="title">iframe</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/route-to-custom-widgets-dialogs-carousels-accordions'>Route to custom widgets (dialogs, carousels, accordions)</h3 id='cookbook/route-to-custom-widgets-dialogs-carousels-accordions'>
<p>It is possible to create custom widgets that jack into the pager-system.
The <code>page</code>-binding (<code>pager.Page</code>-class) is possible to extend at multiple points.

</p>
<h3 id='cookbook/circumvent-the-routing'>Circumvent the routing</h3 id='cookbook/circumvent-the-routing'>
<p>Since pager is not responsible for listening on the location it is possible to
circumvent the routing using the router used. Just do not use <code>pager.start</code>.

</p>
<h3 id='cookbook/navigate-into-a-layer-modal-dialog-without-losing-context'>Navigate into a layer (modal dialog) without losing context</h3 id='cookbook/navigate-into-a-layer-modal-dialog-without-losing-context'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'start'}"</span>></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'admin'}>
    &lt;a href="</span>#<span class="attribute">start</span>/<span class="attribute">admin</span>/<span class="attribute">ok</span>"></span>Show OK<span class="tag">&lt;/<span class="title">a</span>></span>
  <span class="tag">&lt;/<span class="title">div</span>></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'ok', modal: true, title: 'OK?'}"</span>></span>
        <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#admin"</span>></span>OK?<span class="tag">&lt;/<span class="title">a</span>></span>
  <span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<p>If a <code>page</code> is set to <code>modal</code> is can match IDs deeper down the hierarchy. In this case
start/ok also matches start/admin/ok making the page available as a modal dialog
in other contexts.

</p>
<h3 id='cookbook/navigate-into-a-layer-modal-dialog-and-lose-context'>Navigate into a layer (modal dialog) and lose context</h3 id='cookbook/navigate-into-a-layer-modal-dialog-and-lose-context'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'start'}"</span>></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'admin'}>
    &lt;a href="</span>#<span class="attribute">start</span>/<span class="attribute">ok</span>"></span>Show OK<span class="tag">&lt;/<span class="title">a</span>></span>
  <span class="tag">&lt;/<span class="title">div</span>></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'ok', modal: true}"</span>></span>
        <span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#admin"</span>></span>OK?<span class="tag">&lt;/<span class="title">a</span>></span>
  <span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<p>Losing the context is nothing special. Just navigate away form the current page.

</p>
<h3 id='cookbook/change-the-page-title'>Change the page title</h3 id='cookbook/change-the-page-title'>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'fry', title: 'Fry'}"</span>></span>
  Fry
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<p>Setting the &#39;title&#39; configuration property will update the document title when navigating to
the page.


</p>
<h3 id='cookbook/run-custom-js-on-before-after-navigate-from-to'>Run custom JS on &quot;before/after navigate from/to&quot;</h3 id='cookbook/run-custom-js-on-before-after-navigate-from-to'>
<p>There are four alternatives:

</p>
<ul>
<li>global registration using pager.childManager</li>
<li>global data binding on body using <code>click</code></li>
<li>local data binding on anchor using <code>click</code></li>
<li>local data binding on page using <code>beforeHide</code>, <code>afterHide</code>, <code>beforeShow</code>, and <code>afterShow</code></li>
</ul>
<pre><code>// global registration using pager.childManager
ko.computed(function() {
  var currentChild = pager.childManager.currentChildO();
  if(currentChild) {
    // do something
  }
});

<span class="tag">&lt;<span class="title">body</span> <span class="attribute">data-bind</span>=<span class="value">"click: globalClick"</span>></span>

    // local data binding on page
    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'fry', beforeHide: beforeFryIsHidden}"</span>></span><span class="tag">&lt;/<span class="title">div</span>></span>

    // local data binding on anchor using click
    <span class="tag">&lt;<span class="title">a</span> <span class="attribute">data-bind</span>=<span class="value">"page-href: 'fry' click: anchorClicked}"</span>></span>Go to Fry<span class="tag">&lt;/<span class="title">a</span>></span>

<span class="tag">&lt;/<span class="title">body</span>></span>

var beforeFryIsHidden = function(page) {
    console.error(page);
};

var anchorClicked = function(page, e) {
    // otherwise the event will be stopped
    return true;
};

var globalClick = function() {
    // otherwise the event will be stopped
    return true;
};</code></pre>
<p>The click data-binding can be used to run validations before navigations. Just do not <code>return true</code>
to prevent the navigation from happening.


</p>
<h3 id='cookbook/supply-custom-showelement-and-hideelement-methods'>Supply custom showElement and hideElement-methods</h3 id='cookbook/supply-custom-showelement-and-hideelement-methods'>
<pre><code>&lt;div data-bind=<span class="string">"page:¬†{id: 'fry', showElement: showFry, hideElement: hideFry}"</span>>
  Fry
&lt;/div>

// new default hide
pager<span class="preprocessor">.hideElement</span> = function(page, callback) {
  $(page<span class="preprocessor">.element</span>)<span class="preprocessor">.slideUp</span>(<span class="number">600</span>)<span class="comment">;</span>
  if(callback) {
    callback()<span class="comment">;</span>
  }
}<span class="comment">;</span>

// new default show
pager<span class="preprocessor">.showElement</span> = function(page, callback) {
  $(page<span class="preprocessor">.element</span>)<span class="preprocessor">.slideDown</span>(<span class="number">600</span>)<span class="comment">;</span>
  if(callback) {
    callback()<span class="comment">;</span>
  }
}<span class="comment">;</span>

var showFry = function(page, callback) {
  $(page<span class="preprocessor">.element</span>)<span class="preprocessor">.fadeIn</span>(<span class="number">500</span>, callback)<span class="comment">;</span>
}<span class="comment">;</span>
var hideFry = function(page, callback) {
  $(page<span class="preprocessor">.element</span>)<span class="preprocessor">.fadeOut</span>(<span class="number">500</span>, callback)<span class="comment">;</span>
}<span class="comment">;</span></code></pre>
<h3 id='cookbook/specify-loaders-in-pages'>Specify loaders in pages</h3 id='cookbook/specify-loaders-in-pages'>
<pre><code>&lt;div <span class="typedef"><span class="keyword">data</span>-bind="page: <span class="container">{<span class="title">id</span>: '<span class="title">zoidberg'</span>, <span class="title">title</span>: '<span class="type">Zoidberg</span>', <span class="title">loader</span>: <span class="title">loader</span>, <span class="title">sourceOnShow</span>: '<span class="title">zoidberg</span>.<span class="title">html'</span>}</span>" /></span></code></pre>
<p>where

</p>
<pre><code>textLoader: function(page, element) {
    var loader = {};
    var txt = $('<span class="tag">&lt;<span class="title">div</span>></span><span class="tag">&lt;/<span class="title">div</span>></span>', {text: 'Loading ' + page.getValue().title});
    loader.load = function() {
        $(element).append(txt);
    };
    loader.unload = function() {
        txt.remove();
    };
    return loader;
}</code></pre>
<h3 id='cookbook/specify-global-loaders'>Specify global loaders</h3 id='cookbook/specify-global-loaders'>
<pre><code><span class="comment">// see textLoader above</span>
pager<span class="variable">.loader</span> = textLoader;</code></pre>
<h3 id='cookbook/tab-panel-custom-widget'>Tab panel custom widget</h3 id='cookbook/tab-panel-custom-widget'>
<pre><code><span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"nav nav-tabs"</span> <span class="attribute">data-bind</span>=<span class="value">"foreach: $page.children"</span>></span>
    <span class="tag">&lt;<span class="title">li</span> <span class="attribute">data-bind</span>=<span class="value">"css: {active: isVisible}"</span>></span><span class="tag">&lt;<span class="title">a</span> <span class="attribute">data-bind</span>=<span class="value">"text: $data.getValue().title, page-href: getId()"</span>></span><span class="tag">&lt;/<span class="title">a</span>></span><span class="tag">&lt;/<span class="title">li</span>></span>
<span class="tag">&lt;/<span class="title">ul</span>></span>

<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'Slagsm√•lsklubben', title: 'Slagsm√•lsklubben',
  sourceOnShow: 'https://embed.spotify.com/?uri=spotify:album:66KBDVJnA6c0DjHeSZYaHb', frame: 'iframe'}"</span> <span class="attribute">class</span>=<span class="value">"hero-unit"</span>></span>
    <span class="tag">&lt;<span class="title">iframe</span> <span class="attribute">width</span>=<span class="value">"300"</span> <span class="attribute">height</span>=<span class="value">"380"</span> <span class="attribute">frameborder</span>=<span class="value">"0"</span> <span class="attribute">allowtransparency</span>=<span class="value">"true"</span>></span><span class="tag">&lt;/<span class="title">iframe</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span>

<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'Bin√§rpilot', title: 'Bin√§rpilot',
  sourceOnShow: 'https://embed.spotify.com/?uri=spotify:album:67LKycg4jAoC06kZgjvbNd', frame: 'iframe'}"</span> <span class="attribute">class</span>=<span class="value">"hero-unit"</span>></span>
    <span class="tag">&lt;<span class="title">iframe</span> <span class="attribute">width</span>=<span class="value">"300"</span> <span class="attribute">height</span>=<span class="value">"380"</span> <span class="attribute">frameborder</span>=<span class="value">"0"</span> <span class="attribute">allowtransparency</span>=<span class="value">"true"</span>></span><span class="tag">&lt;/<span class="title">iframe</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/react-to-a-failed-navigation'>React to a failed navigation</h3 id='cookbook/react-to-a-failed-navigation'>
<p>Both Page-objects and pager should send events whenever a navigation failed (i.e. no matching page for the route).

</p>
<pre><code><span class="xml"><span class="tag">&lt;<span class="title">a</span> <span class="attribute">data-bind</span>=<span class="value">"click: function() { window.location.hash = 'failed_navigation/random/' + (Math.random()*</span><span class="number">1000</span><span class="xml">).toFixed() }">
    Go to random sub-page
<span class="tag">&lt;/<span class="title">a</span>></span>

<span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'random', navigationFailed: randomFailed}"</span>></span>
    <span class="tag">&lt;<span class="title">ul</span> <span class="attribute">class</span>=<span class="value">"nav nav-tabs"</span> <span class="attribute">data-bind</span>=<span class="value">"foreach: </span><span class="variable">$page.children</span><span class="xml">">
        <span class="tag">&lt;<span class="title">li</span> <span class="attribute">data-bind</span>=<span class="value">"css: {active: isVisible}"</span>></span><span class="tag">&lt;<span class="title">a
</span>                <span class="attribute">data-bind</span>=<span class="value">"text: getId(), page-href: getId()"</span>></span><span class="tag">&lt;/<span class="title">a</span>></span><span class="tag">&lt;/<span class="title">li</span>></span>
    <span class="tag">&lt;/<span class="title">ul</span>></span>

    <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"foreach: newChildren"</span>></span>
        <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: childId}"</span>></span>
            <span class="tag">&lt;<span class="title">span</span> <span class="attribute">data-bind</span>=<span class="value">"text: childId"</span>></span><span class="tag">&lt;/<span class="title">span</span>></span>
        <span class="tag">&lt;/<span class="title">div</span>></span>
    <span class="tag">&lt;/<span class="title">div</span>></span>
<span class="tag">&lt;/<span class="title">div</span>></span></span></code></pre>
<p>where

</p>
<pre><code><span class="label">randomFailed:</span>function (page, route) {
    viewModel<span class="preprocessor">.newChildren</span><span class="preprocessor">.push</span>({
        childId:route[<span class="number">0</span>]
    })<span class="comment">;</span>
    page<span class="preprocessor">.showPage</span>(route)<span class="comment">;</span>
},
<span class="label">newChildren:</span>ko<span class="preprocessor">.observableArray</span>([])</code></pre>
<h3 id='cookbook/load-view-content-using-a-custom-method'>Load view content using a custom method</h3 id='cookbook/load-view-content-using-a-custom-method'>
<p>In order to facilitate programming in the large it is useful to be able to extract views as separate components.
These views should not be forced to be stored as html-fragments or be loaded with jQuery.

</p>
<p>Thus a way to inject custom views should be possible. This is done using the <code>source</code>- or
<code>sourceOnShow</code>-properties. Just supply a method instead of a string!

</p>
<p>These properties takes a method that should take a <code>pager.Page</code> as first argument, a callback, and return nothing.

</p>
<pre><code>&lt;div <span class="typedef"><span class="keyword">data</span>-bind="page: <span class="container">{<span class="title">id</span>: '<span class="title">zoidberg'</span>, <span class="title">sourceOnShow</span>: <span class="title">requireView</span>('<span class="title">character</span>/<span class="title">zoidberg'</span>)}</span>" /></span></code></pre>
<p>where

</p>
<pre><code>window<span class="preprocessor">.requireView</span> = function(viewModule) {
  return function(page, callback) {
    require([viewModule], function(viewString) {
      $(page<span class="preprocessor">.element</span>)<span class="preprocessor">.html</span>(viewString)<span class="comment">;</span>
      callback()<span class="comment">;</span>
    })<span class="comment">;</span>
  }<span class="comment">;</span>
}<span class="comment">;</span></code></pre>
<p>if

</p>
<pre><code>// file: character/zoidberg.js
define(function() {
  return '<span class="tag">&lt;<span class="title">h1</span>></span>Zoidberg<span class="tag">&lt;/<span class="title">h1</span>></span>';
});</code></pre>
<h3 id='cookbook/send-uri-fragment-identifier-parameters-to-a-page'>Send URI (fragment identifier) parameters to a page</h3 id='cookbook/send-uri-fragment-identifier-parameters-to-a-page'>
<p>A page should be able to access the information in the current route - changing a view-model.

</p>
<p>Sending parts of the fragment identifier to variables in the view-model is possible using
<code>params</code>.

</p>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'search', params: {'name', 'fromdate'}}"</span>></span>
  <span class="tag">&lt;<span class="title">span</span> <span class="attribute">data-bind</span>=<span class="value">"text: name"</span>></span><span class="tag">&lt;/<span class="title">span</span>></span> (<span class="tag">&lt;<span class="title">span</span> <span class="attribute">data-bind</span>=<span class="value">"text: fromdate"</span>></span><span class="tag">&lt;/<span class="title">span</span>></span>)
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<p>where <code>name</code> and <code>fromdate</code> with be bound by the parameters <code>name</code> and <code>fromdate</code>.

</p>
<p>An example route for the example above could look like

</p>
<pre><code>example<span class="variable">.com</span>/<span class="preprocessor">#search/tv?name=samsung&amp;fromdate=20121010</span></code></pre>
<p>or if HTML5 history is used

</p>
<pre><code><span class="title">example</span>.com/search/tv?name=samsung&amp;fromdate=<span class="number">20121010</span></code></pre>
<h3 id='cookbook/add-guards'>Add guards</h3 id='cookbook/add-guards'>
<p>Guards are methods that are run before the page navigation takes place and
that can stop the navigation from displaying a certain page.

</p>
<p>Use the property <code>guard: someMethod</code> do apply the guard. The method
takes three parameters: page, route and callback. If the callback is called
the navigation takes place - otherwise it is stopped.

</p>
<pre><code>&lt;div <span class="typedef"><span class="keyword">data</span>-bind="page: <span class="container">{<span class="title">id</span>: '<span class="title">admin'</span>, <span class="title">guard</span>: <span class="title">isLoggedIn</span>}</span>"></span>
  <span class="type">This</span> page is only accessible <span class="keyword">if</span> the user is logged <span class="keyword">in</span>.
&lt;/div></code></pre>
<p>where

</p>
<pre><code><span class="label">isLoggedIn:</span> function(toPage, route, callback, fromPage) {
    if(viewModel<span class="preprocessor">.loggedIn</span>()) {
        callback()<span class="comment">;</span>
    } else {
        window<span class="preprocessor">.location</span><span class="preprocessor">.href</span> = <span class="string">"login"</span><span class="comment">;</span>
    }
}</code></pre>
<p>Use cases are login, validating steps in state machines, etc.

</p>
<p>The reason the guard takes a callback as third argument is simply because the guard might be async - accessing
a webserver for login details or asking if a valid shopping card exists etc.

</p>
<h3 id='cookbook/add-observables-without-connection-to-the-view-model'>Add observables without connection to the view model</h3 id='cookbook/add-observables-without-connection-to-the-view-model'>
<p>Sometimes you need observables purely for the visual and they got no connection to the view-model.

</p>
<p>Using the <code>vars</code> property new observables can be added to the page context.

</p>
<pre><code><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: 'user', vars: {lorem: 'ipsum'}}"</span>></span>
  <span class="tag">&lt;<span class="title">input</span> <span class="attribute">type</span>=<span class="value">"text"</span> <span class="attribute">data-bind</span>=<span class="value">"value: lorem"</span>/></span>
  <span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"text: lorem"</span>/></span>
<span class="tag">&lt;/<span class="title">div</span>></span></code></pre>
<h3 id='cookbook/deep-loading-content-into-wildcards'>Deep loading content into wildcards</h3 id='cookbook/deep-loading-content-into-wildcards'>
<p>Using a combination of wildcard pages and sourceOnShow it is possible to deep load content.

</p>
<pre><code><span class="xml"><span class="tag">&lt;<span class="title">div</span> <span class="attribute">data-bind</span>=<span class="value">"page: {id: '?', deep: true, sourceOnShow: '{</span><span class="number">1</span><span class="xml">}.html'}><span class="tag">&lt;/<span class="title">div</span>></span>

<span class="tag">&lt;<span class="title">a</span> <span class="attribute">href</span>=<span class="value">"#!/some/cool/page"</span>></span>Load some cool page<span class="tag">&lt;/<span class="title">a</span>></span></span></code></pre>
<p>In the above example <code>some/cool/page</code> will match the wildcard (<code>?</code>) and since <code>deep: true</code> is specified
the entire route (<code>some/cool/page</code>) will be used when loading content into the page. If <code>deep</code> hadn&#39;t been
specified the source should have been <code>some.html</code> instead of <code>some/cool/page.html</code>.

</p>
<h3 id='cookbook/specify-a-start-page'>Specify a start page</h3 id='cookbook/specify-a-start-page'>
<p>There are two main alternatives to specify a start page, depending on the desired result.

</p>
<p>Either you can pass an ID (e.g. <code>foo/bar</code>) to your start-method or you can call <code>pager.showChild</code> with a route (
array of strings).

</p>
<pre><code>// send user <span class="keyword">to</span> login-page <span class="keyword">and</span> updating the location
pager.start(<span class="attribute">'login</span>');

// send user <span class="keyword">to</span> login-page without updating the location
paget.start();
pager.showChild([<span class="attribute">'login</span>']);</code></pre>
<h2 id='faq'>FAQ</h2 id='faq'>
<h3 id='faq/can-i-use-it-together-with'>Can I use it together with...</h3 id='faq/can-i-use-it-together-with'>
<p>pager.js is not depending on anything but jQuery and KnockoutJS. You can use it together with
any CSS framework.

</p>
<h3 id='faq/can-i-use-true-urls-instead'>Can I use true URLs instead?</h3 id='faq/can-i-use-true-urls-instead'>
<p>Yes. Use <code>pager.min.history.js</code> if you want to use it together with History.js.

</p>
<h2 id='release-notes'>Release Notes</h2 id='release-notes'>
<h3 id='release-notes/0-2'>0.2</h3 id='release-notes/0-2'>
<ul>
<li><a href="https://github.com/finnsson/pagerjs/issues/17">Should be possible to circumvent the routing</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/16">Should be possible to route to custom widgets (accordions)</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/15">Should be possible to load content into iframes</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/14">Should send wildcards to source</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/13">Should do deep navigation with wildcards</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/12">Should match wildcard IDs if no other ID can match exactly</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/11">withOnShow should lazy bind a new view model to the page</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/10">Should change binding context using with</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/9">Should specify relative page paths using page-href</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/8">Should cache lazy loaded content the number of seconds specified by sourceCache</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/7">Should cache lazy loaded content when sourceCache: true</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/6">Should lazy load an external content into a page if sourceOnShow is declared</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/5">Should load external content into a page using source and trigger sourceLoaded event</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/4">Should be possible to do deep navigation</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/3">Should navigate to page using scoped IDs.</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/2">Should display page with id start by default</a></li>
</ul>
<h3 id='release-notes/0-4'>0.4</h3 id='release-notes/0-4'>
<ul>
<li><a href="https://github.com/finnsson/pagerjs/issues/26">Should be possible to add guards</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/25">Should be possible to send URI (fragment identifier) parameters to a page</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/24">Should be possible to load view content using a custom method</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/23">Should be possible to navigate into modals</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/22">Should be possible to specify loaders on pages</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/21">Should be possible to change the page title</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/20">Should be possible to run custom JS on &quot;navigate failed&quot;</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/19">Tab panel custom widget</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/18">Should be possible to run custom JS on &quot;navigate to&quot;</a></li>
</ul>
<h3 id='release-notes/0-6'>0.6</h3 id='release-notes/0-6'>
<ul>
<li><a href="https://github.com/finnsson/pagerjs/issues/28">Should contain common effects</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/34">HTML5 History Boilerplate</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/29">page-hash and page-href5 bindings for hash or html5 history</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/27">Access to Page in withOnShow handler</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/1">Add BeforeNavigate Event handler to allow user to stop transition</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/39">page-href should be possible to feed with a page-instance</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/38">Should be possible to use hash bang #!/ instead of hash</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/32">Scoped pure view observables using vars</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/31">Wildcards should deep-load content if configured so</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/44">Should be able to change initial page</a></li>
<li><a href="https://github.com/finnsson/pagerjs/issues/43">Demo as is does not work in IE7</a></li>
</ul>
<h2 id='roadmap'>Roadmap</h2 id='roadmap'>
<p>Currently working on development version 0.7, towards stable version 0.8.

</p>
<p>See <a href="https://github.com/finnsson/pagerjs/issues/milestones">Milestones</a>.

</p>
<h2 id='how-to-contribute'>How to Contribute</h2 id='how-to-contribute'>
<p>Fork this repo. Install all dependencies (node.js, grunt, phnatomjs). Run all tests
(<code>grunt qunit</code>). Run jslint (<code>grunt lint</code>). Make your changes. Run all tests and the linter again. Send a pull request.

</p>
<h2 id='license'>License</h2 id='license'>
<p>pager.js is under MIT license.

</p>
<p>Copyright (c) 2012 Oscar Finnsson

</p>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated
documentation files (the &quot;Software&quot;), to deal in the Software without restriction, including without limitation the
rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit
 persons to whom the Software is furnished to do so, subject to the following conditions:

</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the
Software.

</p>
<p>THE SOFTWARE IS PROVIDED &quot;AS IS&quot;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.</p>

  </div>
</div></body>
</html>